# V2版本提示词配置 - 优化版
# 章节总结提示词
chapterSummary:
  fiction: |
    请为以下章节内容生成一个详细总结：

    ## 要求
    - 重要：请保持原文的段落结构和换行，不要删除或合并段落。
    - 语言：请用自然流畅的语言总结本章内容
    - 核心要点：包括主要情节发展、重要人物表现、关键观点或转折，以及本章在整个故事中的作用和意义。
    - 精简：如果内容是致谢、目录、前言、序言等无实质故事内容的页面，请直接回复"无需总结"。

    ## 你需要处理的章节信息

    ### 章节标题：{{title}}

    ### 章节内容：
    {{content}}

  
  nonFiction: |
    你是一位顶尖的社科领域学术分析师，精通文本解构、逻辑提炼与批判性思维。你的任务是为输入的书籍章节生成一份兼具深度、结构与信息密度的专业分析报告。

    ## 内容要求：也是你要重点学习、沉思的内容
    - 核心内容（直接用于总结和理解）：至少包括主要论点脉络或情节发展、重要人物表现、关键观点或转折、关键人物和示例。
    - 隐含内容（不要求显式输出，但有助于理解内容、用意、关联和立场）：推测本章在整个故事中的作用和意义、观点的语境和背景。

    ## 呈现形式和整体原则：
    - 输出结构：每个“语义段”的内容总结 * N个“语义段” + 全章内容总结 + 评价和反思
    - 语言：
      - 简体中文为主语言，自然语言、书评风格输出。想象你是一个写书评的人，而非是一个做文字分析处理的人，你需要写出读者愿意看的流畅、连续二创文字而非死板的结构化信息。
      - **专业性**：正式、忠实地表达原文意思
      - **信息密度至上**：简练，但是不损失原文逻辑，反而因为语言简练而更易于在逻辑和内容上有更多容量、不遗漏原文的关键逻辑和信息点
    - 只出核心内容，即无任何前缀或后缀文字。禁止的模式包括但不限于“好的...”、“这是...”、“这篇...”、“本章...”、“段落一”、“语义段”、标题序号等等模型人格输出的解释词、问候语、谦词敬词等。
    - 如果内容是致谢、目录、前言、序言、作者或发言人姓名、版权声明或者图书信息等无实质故事内容的页面，直接回复"无需总结"

    ## 关键内容质量要求说明：
    - 内容总结部分：总计以200~1000字长度为宜。
      - 呈现顺序：忠于原文组织顺序：按照文章的呈现顺序总结你的内容。虽然呈现顺序和你总结的逻辑顺序可能不同，但是也需尊重原文组织方式，如果你觉得必要可以在讲述的时候代入自己的逻辑理解。
      - 内容总结的基本单元“语义段”：相邻、内容相似、主旨高度相关的段落和内容，合并作为一个“语义段”进行总结处理。
      - 呈现内容为清晰的各个“语义段”总结，核心骨架是每个“语义段”的内容总结。如果段落总结内容比较充实或者难以理解、有进一步解释说明的必要，可在其中参杂2~10个必要的论据论证核心逻辑或者次要逻辑（非必须，可选）。所谓论据包括但不限于：原文、案例（需要描述清楚前因后果和情节）等等。
    - 全章总结部分：总计以200~500字长度为宜。
      - 呈现内容为“总结+论述”模式，至少包含以下段落：
        - 总结全章内容：洞悉全文内容、逻辑组织脉络、作者用意，以极其深刻和富有逻辑但忠于原文的风格、以逻辑为上的思路，总结内容。
        - 评价和反思：对内容进行评价和反思，以精简为主，形成一段符合自然语言习惯、有逻辑、有深度、有递进的文字。涵盖方向包括但不限于：
          - 你的感悟、评价和思考：学习文章内容后的感悟思考，以内容理解为主，先不用延伸到应用层面
          - 你的观点：以客观评价为主，也可以思考不同视角站位人群的看法。也非常推崇辩证性思维、质疑态度，思考方向可以结合内容背景、你的知识等等，以帮助读者全方位理解问题
          - 延伸补充：对章节观点或者你的观点，结合你的知识，进行一些文章未解决或未验证问题、实际生活中的应用等的发散性探讨
          - 以问促学：也提出1~3个相关的、未被探讨的极有思考价值、振聋发聩的问题（问号结尾、每个一行），带给读者思考空间

    ## 输出格式：丰富格式、优化表达
    - markdown格式，请你积极地利用格式符号，帮助读者更快地理解你的输出内容。请你仔细学习格式示例用法，同样地，这些需要使用的格式符号的用法也使得你更清楚你需要努力提取这些信息：
      - **不可使用**：标题符号（`#`、`##`...）、分割符号（`---`），会扰乱整体格式
      - **可以使用、也应该多使用**：
        - 加粗（`**`）：段落的主要关键论点或者逻辑点，比如基本可以总结全段内容的文字。
        - 加粗斜体（`***`）：段落内的次要关键论点或者逻辑点，需要比普通内容更重视的内容，比如分论点、段内金句。
        - 引用（`>`）：需要单独起一行的原文、原话的引用。注意不需要再加引号。
        - 有序和无须列表：列举内容。
        - 斜体（`*`）：作为论点补充的示例、假设等等，或者不需要单独起一行的段内原文、原话的引用。
        - 行内代码（`）：展示专有名词、理论名称、关键词、地点、人物、时间等等。
        - 表格：对比或者展示序列。体现变化趋势、总结对比、展示数据等等。

    ## 你需要处理的章节信息

    ### 章节标题：{{title}}

    ### 章节内容：
    {{content}}

# 思维导图提示词
mindmap:
  chapter: |
    ```ts
    export interface NodeObj {
      topic: string
      id: string
      tags?: string[]
      children?: NodeObj[]
    }
    // 总结父id的第start到end个节点的内容
    export interface Summary {
      id: string
      label: string
      parent: string
      start: number
      end: number
    }
    ```

    任务：分析以下章节内容，生成符合以下格式的JSON思维导图数据：
    {
      nodeData: NodeObj
      summaries?: Summary[]
    }

    严格规则：
    1. 节点ID使用递增数字
    2. 适当应用父子级别的分层，不要只使用兄弟节点关系
    3. 可选标签：核心、案例、实践、金句
    4. Summary用于总结同父节点的子节点，显示在侧边，禁止总结根节点
    5. 适当添加Summary，不要多余
    6. 最后添加一个金句节点记录本章金句
    7. 适当添加表达节点内涵的emoji
    8. 如果内容是致谢、目录、前言、序言、参考文献等页面，直接回复"{nodeData:null}"
    9. 只输出JSON格式，不要输出任何解释性文字、问候语或无关内容

    输出格式：纯JSON，无任何前缀或后缀文字

  arrow: |
    ```ts
    export interface NodeObj {
      topic: string
      id: string
      tags?: string[]
      children?: NodeObj[]
    }

    export interface Arrow {
      id: string
      label: string
      from: string
      to: string
      delta1: { x: number; y: number }
      delta2: { x: number; y: number }
      bidirectional?: boolean
    }
    ```

    任务：为已有思维导图添加箭头连接，输出符合以下格式的JSON：
    {
      arrows?: Arrow[]
    }

    严格规则：
    1. Arrow连接任意节点，label说明节点联系，delta默认值50,50
    2. 直接的父子关系不需要使用Arrow
    3. 最多添加6条Arrow，只连接最关键的节点关系
    4. 只输出JSON格式，不要输出任何解释性文字、问候语或无关内容

    输出格式：纯JSON，无任何前缀或后缀文字

  combined: |
    ```ts
    export interface NodeObj {
      topic: string
      id: string
      tags?: string[]
      children?: NodeObj[]
    }
    // 总结父id的第start到end个节点的内容
    export interface Summary {
      id: string
      label: string
      parent: string
      start: number
      end: number
    }
    ```

    任务：分析整书章节结构，生成符合以下格式的JSON思维导图数据：
    {
      nodeData: NodeObj
      summaries?: Summary[]
    }

    严格规则：
    1. 节点ID使用递增数字
    2. 体现整书的逻辑结构和层次关系
    3. 可选标签：核心、案例、实践、金句
    4. Summary用于总结同父节点的子节点，显示在侧边
    5. 适当添加Summary，不要多余
    6. 最后添加一个金句节点记录全书金句
    7. 适当添加表达节点内涵的emoji
    8. 只输出JSON格式，不要输出任何解释性文字、问候语或无关内容

    输出格式：纯JSON，无任何前缀或后缀文字

# 章节关联分析提示词
connectionAnalysis: |
  任务：分析以下各章节之间的关系，并总结全书的核心内容。

  章节总结内容：
  {{chapterSummaries}}

  分析要求：
  1. 章节之间的联系
     - 各章节是如何一步步展开论述的？
     - 哪些重要观点在不同章节中反复出现？
     - 前面的章节为后面的内容做了哪些铺垫？

  2. 全书的核心主题
     - 这本书最想告诉读者什么？
     - 作者的主要观点是什么？
     - 有哪些值得特别关注的重要概念？

  3. 实用价值
     - 这本书对现实生活有什么指导意义？
     - 读者可以从中学到什么实用的知识或方法？
     - 哪些观点可能会改变我们的思考方式？

  4. 简明总结
     - 用几句话概括这本书的精华
     - 推荐给什么样的人阅读
     - 阅读这本书的最大收获是什么

  输出要求：
  - 用通俗易懂的语言分析，让普通读者轻松理解
  - 结构清晰，层次分明
  - 不要输出任何问候语、解释性文字或无关内容
  - 直接输出分析内容，无任何前缀或后缀文字

# 全书总结提示词
overallSummary: |
  任务：基于以下信息生成《{{bookTitle}}》的全面总结报告。

  书籍章节结构：
  {{chapterInfo}}

  章节关联分析：
  {{connections}}

  总结要求：
  1. 生成一个全面的总结报告，帮助读者快速掌握全书精髓
  2. 内容应包括：
     - 书籍核心观点和主要论述
     - 重要的概念和理论框架
     - 实际应用价值和指导意义
     - 适合的读者群体
     - 阅读本书的主要收获

  输出要求：
  - 语言简洁明了，重点突出
  - 结构清晰，便于阅读
  - 不要输出任何问候语、解释性文字或无关内容
  - 直接输出总结内容，无任何前缀或后缀文字

# 其他系统提示词
system:
  testConnection: "这是一个连接测试。请简单回复\"OK\"，不要添加任何其他文字、标点符号或格式。"
